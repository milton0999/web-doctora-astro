---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const team = await getCollection('team');
const settings = await getCollection('settings');
const siteSettings = settings[0]?.data || {
  site_name: 'Centro M√©dico Gonzalitos',
  whatsapp_number: '528115883775'
};
---

<Layout title="Nosotros" description="Conoce nuestro equipo m√©dico y nuestra misi√≥n">
    <div class="container py-5">
        <div class="text-center mb-5 fade-in-up">
            <h1 class="display-4 fw-bold" style="color: var(--primary-color);">Sobre Nosotros</h1>
            <p class="lead">Conoce nuestro equipo y nuestra misi√≥n de cuidar tu salud</p>
        </div>

        <section class="mb-5">
            <div class="row">
                <div class="col-lg-6 mx-auto">
                    <div class="text-center">
                        <h2 class="mb-4">Nuestra Misi√≥n</h2>
                        <p class="lead text-muted">
                            En el Centro M√©dico Gonzalitos nos comprometemos a brindar atenci√≥n m√©dica de la m√°s alta calidad, 
                            combinando tecnolog√≠a de vanguardia con un trato humano y personalizado.
                        </p>
                        <div class="row text-center mt-4">
                            <div class="col-md-4 mb-3">
                                <div class="stat-item">
                                    <h3 class="text-primary">10+</h3>
                                    <p class="text-muted">A√±os de Experiencia</p>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="stat-item">
                                    <h3 class="text-primary">5000+</h3>
                                    <p class="text-muted">Pacientes Atendidos</p>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="stat-item">
                                    <h3 class="text-primary">100%</h3>
                                    <p class="text-muted">Satisfacci√≥n Garantizada</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        {team.length > 0 && (
            <section>
                <h2 class="text-center mb-5">Nuestro Equipo M√©dico</h2>
                <div class="row g-4">
                    {team.map(member => (
                        <div class="col-md-6 col-lg-4">
                            <div class="card h-100 shadow-sm team-card border-0 text-center">
                                <div class="card-body">
                                    {member.data.photo ? (
                                        <img src={member.data.photo} alt={member.data.name} class="rounded-circle mb-3" 
                                             style="width: 150px; height: 150px; object-fit: cover;" />
                                    ) : (
                                        <div class="rounded-circle mb-3 bg-primary d-flex align-items-center justify-content-center mx-auto" 
                                             style="width: 150px; height: 150px;">
                                            <span class="text-white h3">üë®‚Äç‚öïÔ∏è</span>
                                        </div>
                                    )}
                                    <h5 class="card-title">{member.data.name}</h5>
                                    <p class="text-primary fw-bold">{member.data.position}</p>
                                    {member.data.experience_years && (
                                        <p class="text-muted small">üìÖ {member.data.experience_years} a√±os de experiencia</p>
                                    )}
                                    {member.data.specialties && (
                                        <div class="mb-2">
                                            {member.data.specialties.map(specialty => (
                                                <span class="badge bg-light text-dark me-1">{specialty}</span>
                                            ))}
                                        </div>
                                    )}
                                    <div class="card-text text-muted small">
                                        {member.data.bio}
                                    </div>
                                </div>
                            </div>
                        </div>
                    ))}
                </div>
            </section>
        )}

        {team.length === 0 && (
            <section class="text-center">
                <div class="row">
                    <div class="col-lg-8 mx-auto">
                        <h3 class="mb-4">Pronto conocer√°s a nuestro equipo</h3>
                        <p class="lead text-muted">
                            Estamos preparando la informaci√≥n de nuestro equipo m√©dico para que conozcas a los profesionales 
                            que cuidar√°n de tu salud.
                        </p>
                        <a href={`https://wa.me/${siteSettings.whatsapp_number}?text=Hola, deseo conocer al equipo m√©dico`} 
                           class="btn btn-primary" target="_blank">
                            üí¨ Contactar para m√°s informaci√≥n
                        </a>
                    </div>
                </div>
            </section>
        )}

        <section class="mt-5 py-5 bg-light rounded">
            <div class="row">
                <div class="col-lg-8 mx-auto text-center">
                    <h2 class="mb-4">¬øPor qu√© elegirnos?</h2>
                    <div class="row text-start">
                        <div class="col-md-6 mb-3">
                            <div class="d-flex">
                                <span class="text-primary me-3 h4">üè•</span>
                                <div>
                                    <h5>Tecnolog√≠a Avanzada</h5>
                                    <p class="text-muted small">Equipos de √∫ltima generaci√≥n para diagn√≥sticos precisos</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="d-flex">
                                <span class="text-primary me-3 h4">üë®‚Äç‚öïÔ∏è</span>
                                <div>
                                    <h5>Profesionales Certificados</h5>
                                    <p class="text-muted small">M√©dicos especializados con amplia experiencia</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="d-flex">
                                <span class="text-primary me-3 h4">‚ù§Ô∏è</span>
                                <div>
                                    <h5>Atenci√≥n Personalizada</h5>
                                    <p class="text-muted small">Trato cercano y humano para cada paciente</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="d-flex">
                                <span class="text-primary me-3 h4">‚ö°</span>
                                <div>
                                    <h5>Resultados R√°pidos</h5>
                                    <p class="text-muted small">Entrega oportuna de estudios y diagn√≥sticos</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</Layout>

<style>
.team-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    border-radius: 12px;
}

.team-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 24px rgba(0,0,0,0.15);
}

.stat-item h3 {
    font-weight: bold;
    margin-bottom: 0;
}

.badge {
    font-size: 0.7rem;
}

.fade-in-up {
    animation: fadeInUp 0.6s ease-out;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
</style>